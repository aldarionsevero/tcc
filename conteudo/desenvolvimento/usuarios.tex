\section{Funcionalidade de extrair usuários}
\label{sec:users}

\subsection{Atributos}

Para a ter a funcionalidade mínima esperada desse recurso, definimos que iríamos precisar
extrair os seguintes atributos:


\begin{itemize}
    {\itshape\item name}: Identifica nome do usuário;
    {\itshape\item uid}: Identificador do usuário;
    {\itshape\item home}: Identificar diretório \textit{home} desse usuário;
    {\itshape\item shell}: Identificar qual \textit{shell} o usuário usa ;
    {\itshape\item manage\_home}: Identificar se a \textit{home} deve ser criada;
\end{itemize}

\subsection{\textit{Plugin} de Extração}
Não foi necessário desenvolver um \textit{plugin} para extrair usuários pois o Ohai
já possui um \textit{plugin} nativo para isso. Ele provê atributos referentes
a informações de usuários, grupos, permissões entre outras.

Esse \textit{plugin} utiliza o módulo Ruby \textit{etc} que provê acesso a informações
do sistema operacional, diferentemente de alguns outros \textit{plugins} do Ohai
que executam comandos \textit{shell} diretamente na máquina. A saída é interpretada
pelo \textit{plugin} e transformada em um JSON construído com a estrutura
\texttt{``etc''=> \{ ``passwd''=> \{ ``root''=> \{ ``dir''=> ``/root'', ``gid''=> 0, ``uid''=> 0, ``shell''=> ``/bin/bash'', ``gecos''=> ``root'' \}} 
como mostrada no Código~\ref{code:json_user}

\noindent\begin{minipage}{\textwidth}
  \lstset{style=shell}
  \lstinputlisting[frame=single,
    label=code:json_user,
    caption="Saída JSON do plugin Ohai \textit{passwd} para usuários"]{conteudo/code/json_user.json}
\end{minipage}\hfill

\subsection{Bloco de Receita Gerado}

